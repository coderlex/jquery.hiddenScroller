{"version":3,"sources":["main.js"],"names":["$","extend","easing","easeOutQuint","x","t","b","c","d","DEFAULTS","wrapContent","swipeInertia","inertialExtent","HiddenScroller","$host","options","this","startedPan","prototype","init","$wrapper","children","remove","appendTo","css","overflow","position","left","relayout","window","resize","proxy","hammer","Hammer","on","e","stop","startScrollX","getScrollX","scrollX","clampScrollX","deltaX","setScrollX","velocityX","queue","next","hooks","dt","t0","now","v0","x0","a","interval","setInterval","v","clearInterval","minScrollX","maxScrollX","getMaxScrollX","Math","round","max","min","getOverflowSpaceX","parseInt","scrollToX","animate","enqueue","duration","outerWidth","width","freeSpaceLeft","freeSpaceRight","fn","hiddenScroller","each","data","scroller","jQuery"],"mappings":"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","file":"../jquery.hiddenScroller.min.js","sourcesContent":["/**\r\n * $.hiddenScroller() plugin\r\n *\r\n * @author Alexander Korostin <coderlex@gmail.com>\r\n */\r\n(function($) {\r\n\t'use strict'\r\n\r\n\t// Adding some easing functions\r\n\t$.extend($.easing, {\r\n\t\teaseOutQuint: function (x, t, b, c, d) {\r\n\t\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\r\n\t\t}\r\n\t});\r\n\r\n\tvar DEFAULTS = {\r\n\t\twrapContent: false,\r\n\t\tswipeInertia: 0.005,\r\n\t\tinertialExtent: 80\r\n\t};\r\n\r\n\tvar HiddenScroller = function($host, options) {\r\n\t\tthis.$host = $host;\r\n\t\tthis.options = $.extend({}, DEFAULTS, options);\r\n\t\tthis.startedPan = false;\r\n\t}\r\n\r\n\t$.extend(HiddenScroller.prototype, {\r\n\t\tinit: function() {\r\n\t\t\tif (this.options.wrapContent) {\r\n\t\t\t\tthis.$wrapper = $('<div/>');\r\n\t\t\t\tthis.$host.children().remove().appendTo(this.$wrapper)\r\n\t\t\t\tthis.$wrapper.appendTo($host)\r\n\t\t\t} else {\r\n\t\t\t\tthis.$wrapper = this.$host.children();\r\n\t\t\t}\r\n\r\n\t\t\tthis.$host.css({\r\n\t\t\t\toverflow: 'hidden'\r\n\t\t\t});\r\n\t\t\tthis.$wrapper.css({\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t});\r\n\r\n\t\t\tthis.relayout();\r\n\r\n\t\t\t$(window).resize($.proxy(this.relayout, this));\r\n\r\n\t\t\tvar hammer = new Hammer(this.$host[0]);\r\n\r\n\t\t\thammer.on('panstart', $.proxy(function(e) {\r\n\t\t\t\tif (this.options.swipeInertia) {\r\n\t\t\t\t\t// stop swipe inertia animation\r\n\t\t\t\t\tthis.$wrapper.stop(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.startScrollX = this.getScrollX();\r\n\t\t\t\tthis.startedPan = true;\r\n\t\t\t}, this));\r\n\r\n\t\t\thammer.on('panleft panright', $.proxy(function(e) {\r\n\t\t\t\tif (this.startedPan) {\r\n\t\t\t\t\tvar scrollX = this.clampScrollX(this.startScrollX - e.deltaX);\r\n\t\t\t\t\tthis.setScrollX(scrollX);\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\t\thammer.on('panend pancancel', $.proxy(function(e) {\r\n\t\t\t\tthis.startedPan = false;\r\n\r\n\t\t\t\t// Add swipe inertia\r\n\t\t\t\tif (this.options.swipeInertia && e.velocityX != 0) {\r\n\t\t\t\t\tthis.$wrapper.queue($.proxy(function(next, hooks) {\r\n\t\t\t\t\t\tvar dt = 20;\r\n\t\t\t\t\t\tvar t0 = $.now();\r\n\t\t\t\t\t\tvar v0 = -e.velocityX/*0.5*/;\r\n\t\t\t\t\t\tvar x0 = this.getScrollX();\r\n\t\t\t\t\t\tvar a = (v0 > 0 ? -1 : 1) * this.options.swipeInertia;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar interval = setInterval($.proxy(function() {\r\n\t\t\t\t\t\t\tvar t = $.now() - t0;\r\n\t\t\t\t\t\t\tvar v = v0 + a*t;\r\n\t\t\t\t\t\t\tif ((v <= 0 && v0 > 0) || (v >= 0 && v0 < 0)) {\r\n\t\t\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t\t// Correct position if out of bound\r\n\t\t\t\t\t\t\t\tthis.relayout();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar minScrollX = 0;\r\n\t\t\t\t\t\t\tvar maxScrollX = this.getMaxScrollX();\r\n\t\t\t\t\t\t\tif (this.options.inertialExtent) {\r\n\t\t\t\t\t\t\t\tminScrollX -= this.options.inertialExtent;\r\n\t\t\t\t\t\t\t\tmaxScrollX += this.options.inertialExtent;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar x = Math.round(x0 + v0*t + a*t*t/2);\r\n\t\t\t\t\t\t\tif (x >= minScrollX && x <= maxScrollX) {\r\n\t\t\t\t\t\t\t\tthis.setScrollX(x);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (x > maxScrollX) {\r\n\t\t\t\t\t\t\t\t\tthis.setScrollX(maxScrollX);\r\n\t\t\t\t\t\t\t\t} else if (x < minScrollX) {\r\n\t\t\t\t\t\t\t\t\tthis.setScrollX(minScrollX);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Stop as it reached the end\r\n\t\t\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t\t// Correct position if out of bound\r\n\t\t\t\t\t\t\t\tthis.relayout();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, this), dt);\r\n\r\n\t\t\t\t\t\thooks.stop = function() {\r\n\t\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}, this));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.options.inertialExtent) {\r\n\t\t\t\t\tthis.relayout();\r\n\t\t\t\t}\r\n\t\t\t}, this));\r\n\t\t},\r\n\t\t/**\r\n\t\t * Clamps scroll offset to [-inertialExtent, maxScrollX + intertialExtent]\r\n\t\t */\r\n\t\tclampScrollX: function(scrollX) {\r\n\t\t\t// prepare limits scrollX will clamp to\r\n\t\t\tvar minScrollX = 0;\r\n\t\t\tvar maxScrollX = this.getMaxScrollX();\r\n\t\t\tif (this.options.inertialExtent) {\r\n\t\t\t\tminScrollX -= this.options.inertialExtent;\r\n\t\t\t\tmaxScrollX += this.options.inertialExtent;\r\n\t\t\t}\r\n\t\t\t// clamp to [minScrolX, maxScrollX]\r\n\t\t\tscrollX = Math.max(minScrollX, scrollX);\r\n\t\t\tscrollX = Math.min(maxScrollX, scrollX);\r\n\t\t\treturn scrollX;\r\n\t\t},\r\n\t\tgetMaxScrollX: function() {\r\n\t\t\treturn Math.max(this.getOverflowSpaceX(), 0);\r\n\t\t},\r\n\t\tgetScrollX: function() {\r\n\t\t\treturn -parseInt(this.$wrapper.css('left'));\r\n\t\t},\r\n\t\tsetScrollX: function(x) {\r\n\t\t\tthis.$wrapper.css('left', -x + 'px');\r\n\t\t},\r\n\t\tscrollToX: function(x, options) {\r\n\t\t\toptions = $.extend({}, {\r\n\t\t\t\tanimate: true,\r\n\t\t\t\tenqueue: false,\r\n\t\t\t\tduration: 100\r\n\t\t\t}, options);\r\n\r\n\t\t\tthis.$wrapper.stop(!options.enqueue);\r\n\t\t\tvar css = { left: -x + 'px' };\r\n\t\t\tif (options.animate) {\r\n\t\t\t\tthis.$wrapper.animate(css, options.duration);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$wrapper.css(css);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetOverflowSpaceX: function() {\r\n\t\t\treturn this.$wrapper.outerWidth(true) - this.$host.width();\r\n\t\t},\r\n\t\trelayout: function() {\r\n\t\t\t// Correct scroller position if it got out of bounds\r\n\t\t\tvar freeSpaceLeft = -this.getScrollX();\r\n\t\t\tvar freeSpaceRight = this.getScrollX() - this.getOverflowSpaceX();\r\n\t\t\tif (freeSpaceLeft > 0) {\r\n\t\t\t\tthis.scrollToX(0, {duration: 250});\r\n\t\t\t} else if (freeSpaceRight > 0) {\r\n\t\t\t\tthis.scrollToX(this.getMaxScrollX(), {duration: 250});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$.fn.hiddenScroller = function(options) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $host = $(this);\r\n\t\t\tif (!$host.data('__hidden-scroller')) {\r\n\t\t\t\tvar scroller = new HiddenScroller($host, options);\r\n\t\t\t\tscroller.init();\r\n\t\t\t\t$host.data('__hidden-scroller', scroller);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n})(jQuery);"]}